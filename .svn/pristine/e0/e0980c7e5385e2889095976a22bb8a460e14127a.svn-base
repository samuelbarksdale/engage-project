(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{236:function(e,t,a){e.exports=a(463)},242:function(e,t,a){},459:function(e,t,a){},463:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),s=a(9),c=a(1),l=a.n(c),o=a(35),i=a.n(o),u=(a(242),a(21)),p=a.n(u),h={backendUrl:"http://localhost:8080/api",backendDomain:"http://localhost:8080"},d=a(466),m=a(12),b=a(13),f=a(15),y=a(14),E=a(16),v=a(474),O=a(473),g=a(29),j=a(43);function w(e){return e.status<300?{data:e.data}:e.status<500?{error:e.data.message}:{error:"Oops, an unexpected error occured!"}}function k(){return(k=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/user/"+t);case 2:if(!((a=e.sent).status<300)){e.next=5;break}return e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/me");case 2:return t=e.sent,e.abrupt("return",w(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/me/classes");case 2:return t=e.sent,e.abrupt("return",w(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/me/course");case 2:return t=e.sent,e.abrupt("return",w(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(h.backendUrl+"/classes",t);case 2:if(!(e.sent.status<300)){e.next=5;break}return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/attendance");case 2:if(!((t=e.sent).status<300)){e.next=5;break}return e.abrupt("return",t.data);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(h.backendUrl+"/polls",t);case 2:if(!((a=e.sent).status<300)){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/polls");case 2:if(!((t=e.sent).status<300)){e.next=5;break}return e.abrupt("return",t.data);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/attendance/"+t);case 2:if(!((a=e.sent).status<300)){e.next=5;break}return e.abrupt("return",a.data);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/absences");case 2:if(!((t=e.sent).status<300)){e.next=5;break}return e.abrupt("return",t.data);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.delete(h.backendUrl+"/classes/"+t);case 2:return a=e.sent,e.abrupt("return",w(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R={getUser:function(e){return k.apply(this,arguments)},getMe:function(){return C.apply(this,arguments)},createCourse:function(e){return A.apply(this,arguments)},getAttendance:function(){return D.apply(this,arguments)},getMyClasses:function(){return x.apply(this,arguments)},createPoll:function(e){return U.apply(this,arguments)},getPolls:function(){return L.apply(this,arguments)},getAttendanceByDid:function(e){return P.apply(this,arguments)},getAbsences:function(){return T.apply(this,arguments)},getMyCourse:function(){return S.apply(this,arguments)},deleteCourse:function(e){return N.apply(this,arguments)}},F=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("h4",null,"Welcome to Engage, "+this.props.user.name))}}]),t}(l.a.Component),M=a(32),q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={attendance:[],filter:{}},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getAttendance();case 2:t=e.sent,console.log(t),a={},t.map((function(e,t){console.log(e.timestamp);var n=new Date(e.timestamp).toDateString();n in a?a[n]+=1:a[n]=1})),(n=Object.keys(a).map((function(e){return[e,a[e]]}))).sort((function(e,t){return new Date(e)>new Date(t)})),s=[],n.map((function(e){var t={date:e[0],totalAttended:e[1]};s.push(t)})),this.setState({attendance:s});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",{className:"line-charts-wrapper",width:"150px"},l.a.createElement(M.e,{width:1100,height:600,data:this.state.attendance},l.a.createElement(M.a,{stroke:"#f5f5f5",fill:"#e6e6e6"}),l.a.createElement(M.c,{onMouseEnter:this.handleLegendMouseEnter,onMouseLeave:this.handleLegendMouseLeave}),l.a.createElement(M.g,{dataKey:"date",height:40},l.a.createElement(M.b,{value:"Current Week",position:"insideBottom"})),l.a.createElement(M.h,{type:"number",dataKey:"totalAttended",unit:""},l.a.createElement(M.b,{value:"Amount of Students",position:"",angle:-90})),l.a.createElement(M.f,null),l.a.createElement(M.d,{type:"monotone",dataKey:"totalAttended",stroke:"#8884d8",activeDot:{r:8}})))}}]),t}(l.a.Component),G=a(10),I=a(472),_=a(467),B=a(468),z=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={attendance:"",did:"",display:"none"},a.setDisplay=a.setDisplay.bind(Object(G.a)(a)),a.renderTableData=a.renderTableData.bind(Object(G.a)(a)),a.test=a.test.bind(Object(G.a)(a)),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"renderTableData",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({display:"block"}),e.next=3,R.getAttendance();case 3:t=e.sent,console.log(this.state.did),a={},t.map((function(e,t){console.log(e.timestamp);var n=new Date(e.timestamp);e.did in a?a[e.did].includes(n.toDateString())||a[e.did].push(n.toDateString()):a[e.did]=[n.toDateString()]})),a[this.state.did].sort((function(e,t){return new Date(e)>new Date(t)})),n="",a[this.state.did].map((function(e,t){n+=e+", "})),n=n.slice(0,-2),this.setState({attendance:n});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setDisplay",value:function(){this.setState({display:"block"})}},{key:"test",value:function(){console.log("hello")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(I.a,null,l.a.createElement(I.a.Label,null," Filter Student "),l.a.createElement(I.a.Control,{onChange:function(t){e.setState({did:t.target.value})},value:this.state.did,type:"text",placeholder:"Enter student directory id"}),l.a.createElement(I.a.Row,null,l.a.createElement(_.a,{onClick:this.renderTableData,style:{marginTop:"10px"},variant:"success",size:"md"},"Search"))),l.a.createElement("h1",{id:"title",style:{display:this.state.display}},"Attendance"),l.a.createElement("div",{id:"student_attendance",style:{display:this.state.display}},l.a.createElement(B.a,{striped:!0,bordered:!0,hover:!0,id:"student"},l.a.createElement("tr",null,l.a.createElement("th",null,"Directory ID"),l.a.createElement("th",null,"Dates Attended")),l.a.createElement("tbody",null,l.a.createElement("tr",{key:this.state.did},l.a.createElement("td",null,this.state.did),l.a.createElement("td",null,this.state.attendance))))))}}]),t}(l.a.Component),Q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={attendance:[],filter:{}},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center mt-4"},"Class Attendance"),l.a.createElement(d.a,null,l.a.createElement(q,null)),l.a.createElement(d.a,null,l.a.createElement(z,null)))}}]),t}(l.a.Component),W=a(476),K=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(W.a,null,l.a.createElement(W.a.Body,null,l.a.createElement(W.a.Title,null,this.props.section_id),l.a.createElement("h3",null,l.a.createElement("strong",null,"Directory ID: "),"  ",this.props.uid),l.a.createElement("h4",null,l.a.createElement("strong",null,"Request Type: ")," ",this.props.type),l.a.createElement("h5",null,l.a.createElement("strong",null,"Student Reason: ")," ",this.props.rationale),l.a.createElement("h6",null,l.a.createElement("strong",null,"Student Email: "),this.props.email),l.a.createElement("h6",null,l.a.createElement("strong",null,"Start Date: "),this.props.startDate),l.a.createElement("h6",null,l.a.createElement("strong",null,"End Date: "),this.props.endDate))))}}]),t}(l.a.Component),J=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={list_of_absences:[]},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getAbsences();case 2:t=e.sent,this.setState({list_of_absences:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleAllDelete",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.deleteAbsence();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.list_of_absences.map((function(t){return l.a.createElement("div",null,l.a.createElement(W.a,null,l.a.createElement(K,{id:t._id,section_id:t.section_id,type:t.type,rationale:t.rationale,uid:t.uid,email:t.email,startDate:t.missed_days.start,endDate:t.missed_days.end}),l.a.createElement("button",{onClick:function(){return e.handleDeleteSpecificRequest(t._id)}},"Delete"),l.a.createElement("br",null)))}));return l.a.createElement("div",null,l.a.createElement(_.a,{onClick:this.handleUpdate},"Refresh"),l.a.createElement("span",{style:{width:10}},"                      "),l.a.createElement(_.a,{onClick:this.handleAllDelete}," Delete All Requests "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),t)}}]),t}(l.a.Component);function Z(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Active Absence Reports"),l.a.createElement(J,null))}var H=a(206),V=a(469),Y=function(e){function t(e){return Object(m.a)(this,t),Object(f.a)(this,Object(y.a)(t).call(this,e))}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement(V.a,null,l.a.createElement(W.a,null,l.a.createElement(W.a.Header,{as:"h5"}," Poll #",this.props.pollNum+1," "),l.a.createElement(W.a.Body,null,l.a.createElement(W.a.Title,null," Opened on ",this.props.date),l.a.createElement(W.a.Subtitle,{className:"mb-2 text-muted"},this.props.type),l.a.createElement(W.a.Text,null," ",this.props.question," "),l.a.createElement(W.a.Link,{href:"#"},"Close"),l.a.createElement(W.a.Link,{href:"#"},"Delete"),l.a.createElement(W.a.Link,{href:"#"},"View Answers"))))}}]),t}(c.Component),$=a(41),X=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).initialState={question:"",questionType:"free",choices:[]},a.state=a.initialState,a.handleQuestions=a.handleQuestions.bind(Object(G.a)(a)),a.handleChoiceChange=a.handleChoiceChange.bind(Object(G.a)(a)),a.handleAddChoice=a.handleAddChoice.bind(Object(G.a)(a)),a.submitForm=a.submitForm.bind(Object(G.a)(a)),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"handleQuestions",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object($.a)({},a,n))}},{key:"handleChoiceChange",value:function(e,t){var a=this.state.choices.map((function(a,n){return e!==n?a:t.target.value}));this.setState({choices:a})}},{key:"handleAddChoice",value:function(){this.setState({choices:this.state.choices.concat([""])})}},{key:"submitForm",value:function(){this.props.handleSubmit(this.state),this.setState(this.initialState)}},{key:"render",value:function(){var e=this;return l.a.createElement(I.a,null,l.a.createElement(I.a.Group,{controlId:"question"},l.a.createElement(I.a.Label,null,"Question"),l.a.createElement(I.a.Control,{as:"textarea",placeholder:"Enter question for poll",name:"question",value:this.state.question,onChange:this.handleQuestions})),l.a.createElement(I.a.Group,{controlId:"questionType"},l.a.createElement(I.a.Label,null,"Question Type"),l.a.createElement(I.a.Control,{as:"select",name:"questionType",value:this.state.questionType,onChange:this.handleQuestions},l.a.createElement("option",{value:"text"},"Free Response"),l.a.createElement("option",{value:"choice"},"Multiple Choice"))),l.a.createElement(I.a.Group,{controlId:"choices"},l.a.createElement(I.a.Label,null,"Answer Choices"),l.a.createElement(I.a.Text,{className:"text-muted"},"Provide only if question type is Multiple Choice."),this.state.choices.map((function(t,a){return l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Control,{type:"text",placeholder:"Answer #".concat(a+1),name:"choices",value:t,onChange:function(t){return e.handleChoiceChange(a,t)}}))})),l.a.createElement(_.a,{variant:"primary",onClick:this.handleAddChoice},"Add Choice")),l.a.createElement(_.a,{style:{marginTop:"10px"},variant:"success",size:"md",onClick:this.submitForm},"Create Poll"))}}]),t}(c.Component),ee=a(475),te=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).initialState={polls:[],alert:{show:!1,type:"",message:""}},a.state=a.initialState,a.handleSubmit=a.handleSubmit.bind(Object(G.a)(a)),a.showAlert=a.showAlert.bind(Object(G.a)(a)),a.hideAlert=a.hideAlert.bind(Object(G.a)(a)),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.getPolls();case 3:t=e.sent,this.setState({polls:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"showAlert",value:function(e,t){this.setState({alert:{show:!0,type:e,message:t}})}},{key:"hideAlert",value:function(){this.setState({alert:{show:!1,type:"",message:""}})}},{key:"handleSubmit",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,c,l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,n={weekday:"long"},s=new Intl.DateTimeFormat("en-US",n).format(a),c=new Intl.DateTimeFormat("en-US").format(a),l=s+", "+c,o={question:t.question,type:t.questionType,choices:t.choices,creator:this.props.creator,date:l},e.next=8,R.createPoll(o);case 8:e.sent?this.showAlert("success","Poll successfully created"):this.showAlert("danger","The Poll could not be created"),this.setState({polls:[].concat(Object(H.a)(this.state.polls),[o])});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.polls.map((function(e,t){return l.a.createElement(Y,{type:e.type,question:e.question,date:e.date,pollNum:t})}));return l.a.createElement("div",null,this.state.alert.show&&l.a.createElement(ee.a,{variant:this.state.alert.type,onClose:this.hideAlert,dismissible:!0},this.state.alert.message),l.a.createElement("h3",{className:"text-center mt-4"},"Polls"),l.a.createElement(d.a,null,l.a.createElement("h4",null,"Create a New Poll"),l.a.createElement(X,{handleSubmit:this.handleSubmit})),l.a.createElement("div",{id:"openPolls"},l.a.createElement("h4",{className:"text-center mt-4"},"Open Polls"),e))}}]),t}(l.a.Component),ae=a(44),ne=a(199),re=a(30),se=a.n(re),ce=a(470),le=(l.a.Component,a(471)),oe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={loading:!1},a.GetGeolocation=a.GetGeolocation.bind(Object(G.a)(a)),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"GetGeolocation",value:function(){var e=this,t=navigator.geolocation;if(!t)throw new Error("Geolocation not supported!");t.getCurrentPosition((function(t){e.setState({loading:!1}),document.getElementById("geolocate").removeAttribute("disabled"),e.props.locationCallback(t.coords)}),(function(t){e.setState({loading:!1}),console.error(t)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(_.a,{id:"geolocate",size:"sm",onClick:function(){document.getElementById("geolocate").setAttribute("disabled","true"),e.setState({loading:!0}),e.GetGeolocation()}},this.state.loading?[l.a.createElement(le.a,{key:1,as:"span",role:"status",size:"sm",animiation:"border"}),l.a.createElement("span",{key:2},"Loading...")]:l.a.createElement("span",null,"Use Current Location")),l.a.createElement("p",null,"Note: A GPS equipped device is necessary for accurate results. Otherwise, use coordinates given by ",l.a.createElement("a",{href:"https://maps.google.com"},"Google Maps")," when clicking on a building."))}}]),t}(l.a.Component),ie=a(123),ue=a.n(ie);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}l.a.Component;function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={lectures:[],sections:[],roster:[],courseName:"",tas:""},a.handleSubmit=a.handleSubmit.bind(Object(G.a)(a)),a.handleLecturesUpload=a.handleLecturesUpload.bind(Object(G.a)(a)),a.handleRosterUpload=a.handleRosterUpload.bind(Object(G.a)(a)),a.handleSectionsUpload=a.handleSectionsUpload.bind(Object(G.a)(a)),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"handleSubmit",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=function(e){try{return e.match(/[A-Z][a-z]?/g)}catch(t){throw new Error("Invalid date character, must be M T W Th F ")}},0!=this.state.lectures.length){e.next=6;break}return e.abrupt("return",this.props.showAlert("warning","Lectures cannot be empty"));case 6:if(0!=this.state.sections.length){e.next=10;break}return e.abrupt("return",this.props.showAlert("warning","Sections cannot be empty"));case 10:if(0!=this.state.roster.length){e.next=14;break}return e.abrupt("return",this.props.showAlert("warning","Roster cannot be empty"));case 14:if(0!=this.state.courseName){e.next=16;break}return e.abrupt("return",this.props.showAlert("warning","Course Name cannot be empty"));case 16:return a=this.state.sections.map((function(e){var a=e.section,n=e.days,r=Object(ae.a)(e,["section","days"]),s=t(n);if(s)return me({},r,{days:s,sectionId:a})})),n=this.state.lectures.map((function(e){var a=e.days,n=Object(ae.a)(e,["days"]),r=t(a);if(r)return me({},n,{days:r})})),s={courseName:this.state.courseName.toLowerCase(),roster:this.state.roster,lectures:n,sections:a,tas:this.state.tas.replace(" ","").split(",")},e.next=21,R.createCourse(s);case 21:e.sent?this.props.showAlert("success","Course successfully created"):this.props.showAlert("danger","The Course could not be created"),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),console.error(e.t0),this.props.showAlert("danger",e.t0.message);case 29:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleRosterUpload",value:function(e){this.setState({roster:e})}},{key:"handleSectionsUpload",value:function(e){this.setState({sections:e})}},{key:"handleLecturesUpload",value:function(e){this.setState({lectures:e})}},{key:"render",value:function(){var e=this,t={header:!0,dynamicTyping:!0,skipEmptyLines:!0};return l.a.createElement(I.a,{onSubmit:this.handleSubmit},l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Group,{as:ne.a},l.a.createElement(I.a.Label,null,"Course Name"),l.a.createElement(I.a.Control,{onChange:function(t){e.setState({courseName:t.target.value})},value:this.state.courseName,type:"text",placeholder:"CMSC216"}))),l.a.createElement(I.a.Group,null,l.a.createElement(I.a.Label,null,"Comma-seperated TA Directory Ids"),l.a.createElement(I.a.Control,{type:"text",onChange:function(t){e.setState({tas:t.target.value})},value:this.state.tas})),l.a.createElement(I.a.Row,null,l.a.createElement(I.a.Group,{as:ne.a},l.a.createElement(I.a.Label,null,"Roster"),l.a.createElement(se.a,{onFileLoaded:this.handleRosterUpload,parserOptions:t})),l.a.createElement(I.a.Group,{as:ne.a},l.a.createElement(I.a.Label,null,"Lectures"),l.a.createElement(se.a,{onFileLoaded:this.handleLecturesUpload,parserOptions:t})),l.a.createElement(I.a.Group,{as:ne.a},l.a.createElement(I.a.Label,null,"Sections"),l.a.createElement(se.a,{onFileLoaded:this.handleSectionsUpload,parserOptions:t}))),l.a.createElement(I.a.Row,null,l.a.createElement(_.a,{onClick:this.handleSubmit,style:{marginTop:"10px",background:"#990000",borderColor:"#990000"},size:"md"},"Create Course")))}}]),t}(l.a.Component);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object($.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={lectures:[],sections:[],roster:[],courseName:"",tas:""},a.handleLecturesUpload=a.handleLecturesUpload.bind(Object(G.a)(a)),a.handleRosterUpload=a.handleRosterUpload.bind(Object(G.a)(a)),a.handleSectionsUpload=a.handleSectionsUpload.bind(Object(G.a)(a)),a.handleDelete=a.handleDelete.bind(Object(G.a)(a)),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"handleUpdate",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=function(e){try{return e.match(/[A-Z][a-z]?/g)}catch(t){throw new Error("Invalid date character, must be M T W Th F ")}},a=this.state.sections.map((function(e){var a=e.section,n=e.days,r=Object(ae.a)(e,["section","days"]),s=t(n);if(s)return ye({},r,{days:s,sectionId:a})})),n=this.state.lectures.map((function(e){var a=e.days,n=Object(ae.a)(e,["days"]),r=t(a);if(r)return ye({},n,{days:r})})),s={courseName:this.state.courseName.toLowerCase(),roster:this.state.roster,lectures:n,sections:a,tas:this.state.tas.replace(" ","").split(",")},e.next=7,R.updateCourse(s);case 7:e.sent?this.props.showAlert("success","Course successfully updated"):this.props.showAlert("danger","The Course could not be updated"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.props.showAlert("danger",e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.deleteCourse(this.props.course);case 2:e.sent.error||this.props.showAlert("Successfully deleted course");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleRosterUpload",value:function(e){this.setState({roster:e})}},{key:"handleSectionsUpload",value:function(e){this.setState({sections:e})}},{key:"handleLecturesUpload",value:function(e){this.setState({lectures:e})}},{key:"render",value:function(){var e={header:!0,dynamicTyping:!0,skipEmptyLines:!0};return l.a.createElement(d.a,null,l.a.createElement(ce.a,null,l.a.createElement("h4",{as:ne.a},this.props.course.toUpperCase()),l.a.createElement("div",{as:ne.a,className:"ml-5",style:{width:"80px",height:"50px"}},l.a.createElement(_.a,{size:"sm",variant:"danger",onClick:this.handleDelete},"Delete"))),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Roster"),l.a.createElement("th",null,"Lectures"),l.a.createElement("th",null,"Sections")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(se.a,{onFileLoaded:this.handleRosterUpload,parserOptions:e})),l.a.createElement("td",null,l.a.createElement(se.a,{onFileLoaded:this.handleLecturesUpload,parserOptions:e})),l.a.createElement("td",null,l.a.createElement(se.a,{onFileLoaded:this.handleSectionsUpload,parserOptions:e}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(_.a,{onClick:this.handleUpdate,style:{marginTop:"10px",background:"#990000",borderColor:"#990000"},size:"md"},"Update Course")))))}}]),t}(l.a.Component),ve=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={course:"",alert:{show:!1,type:"",message:""}},a.showAlert=a.showAlert.bind(Object(G.a)(a)),a.hideAlert=a.hideAlert.bind(Object(G.a)(a)),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"showAlert",value:function(e,t){this.setState({alert:{show:!0,type:e,message:t}})}},{key:"hideAlert",value:function(){this.setState({alert:{show:!1,type:"",message:""}})}},{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getMyClasses();case 2:t=e.sent,(a=t.data).length&&this.setState({course:a[0].courseName});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",null,this.state.alert.show&&l.a.createElement(ee.a,{variant:this.state.alert.type,onClose:this.hideAlert,dismissible:!0},this.state.alert.message),l.a.createElement("h3",{className:"text-center mt-4"},"Settings"),l.a.createElement(d.a,null,""!==this.state.course?l.a.createElement("div",null,l.a.createElement("h4",null,"Edit Course"),l.a.createElement(Ee,{course:this.state.course,showAlert:this.showAlert})):l.a.createElement("div",null,l.a.createElement("h4",null,"Setup Course"),l.a.createElement(be,{showAlert:this.showAlert}))))}}]),t}(l.a.Component),Oe=(a(459),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).state={user:{}},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.getMe();case 2:t=e.sent,a=t.data,this.setState({user:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={textDecoration:"none",color:"white",margin:"7px"};return l.a.createElement(g.a,null,l.a.createElement(v.a,{style:{background:"#990000"},expand:"lg"},l.a.createElement(g.b,{to:"/home"},l.a.createElement(v.a.Brand,{style:{color:"#FFFFFF"}},"Engage")),l.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(O.a,{className:"mr-auto"},l.a.createElement(g.b,{style:e,to:"/attendance"},"Attendance"),l.a.createElement(g.b,{style:e,to:"/absence"},"Absence Requests"),l.a.createElement(g.b,{style:e,to:"/polls"},"Polls"),l.a.createElement(g.b,{style:e,to:"/settings"},"Settings")))),l.a.createElement(j.d,null,l.a.createElement(j.b,{path:"/home"},l.a.createElement(F,{user:this.state.user})),l.a.createElement(j.b,{path:"/attendance"},l.a.createElement(Q,{user:this.state.user})),l.a.createElement(j.b,{path:"/absence"},l.a.createElement(Z,{user:this.state.user})),l.a.createElement(j.b,{path:"/polls"},l.a.createElement(te,{user:this.state.user})),l.a.createElement(j.b,{path:"/settings"},l.a.createElement(ve,{user:this.state.user})),l.a.createElement(j.b,{path:"/"},l.a.createElement(j.a,{to:"/dashboard"}))))}}]),t}(l.a.Component));a(462),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h.backendUrl+"/me");case 2:401===(t=e.sent).status?i.a.render((function(){return l.a.createElement(d.a,null,l.a.createElement("h4",{className:"text-center"},"You are not logged in. ",l.a.createElement("a",{href:"/login"},"Login.")))}),document.getElementById("root")):404===t.status?i.a.render((function(){return l.a.createElement("p",null,"404 User Not Found")}),document.getElementById("root")):i.a.render(l.a.createElement(Oe,null),document.getElementById("root"));case 4:case"end":return e.stop()}}),e)})))(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[236,1,2]]]);
//# sourceMappingURL=main.2db84052.chunk.js.map